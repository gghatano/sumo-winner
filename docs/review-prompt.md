# レビュー依頼プロンプト

以下をClaude Codeに渡してレビューを依頼してください。

---

## プロンプト

このリポジトリの全実装コードをレビューしてください。

### プロジェクト概要
大相撲の取組予想メモ作成を省力化するWebアプリ（GitHub Pages）です。
仕様は `docs/spec.md`、要件整理は `docs/REQUIREMENTS.md` を参照してください。

### レビュー観点

#### 1. 仕様との整合性
- `docs/spec.md` の要件（セクション5〜13）が実装に反映されているか
- 受け入れ基準（セクション13）を満たしているか
- JSONスキーマ（セクション7.3）に準拠しているか

#### 2. フロントエンド (`src/`)
- **型安全性**: `src/types.ts` の型定義が適切か、anyの使用がないか
- **コンポーネント設計**: 責務分離、propsの設計、再利用性
- **状態管理**: usePredictionsフックとlocalStorageの同期が正しいか
- **データ取得**: `src/lib/api.ts` のエラーハンドリング
- **テキスト整形**: `src/lib/format.ts` の日目→漢数字変換、○●付与の正確性
- **テスト**: `src/lib/__tests__/` のカバレッジと網羅性

#### 3. Pythonスクレイパ (`scripts/fetch_torikumi.py`)
- **パーサのロバスト性**: HTML構造変更への耐性、フォールバック戦略
- **取得マナー**: User-Agent、リトライ/バックオフ、エラー時の前回データ保持
- **コマンドライン**: argparseの引数設計
- **テスト**: `tests/test_parser.py` のカバレッジ

#### 4. GitHub Actions (`.github/workflows/`)
- **fetch_torikumi.yml**: cron設定、差分チェック、コミットメッセージ、エラーハンドリング
- **deploy.yml**: ビルド→Pagesデプロイの設定

#### 5. セキュリティ・品質
- XSSリスク（ユーザー入力はないが、外部JSONを表示）
- 依存パッケージのバージョン
- `.gitignore` の漏れ（機密ファイル、ビルド成果物）

#### 6. 改善提案
- パフォーマンス改善の余地
- UX改善の余地
- コードの簡素化・リファクタリング提案

### レビュー形式
以下の形式で出力してください:

```
## サマリー
全体的な評価（1〜2文）

## 問題点（修正必須）
- [ ] ファイル:行番号 - 問題の説明と修正案

## 改善提案（推奨）
- [ ] ファイル:行番号 - 提案内容と理由

## 良い点
- 良かった実装や設計判断

## 総合評価
Ship可能か / 修正後に再レビュー必要か
```
